<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ERP Module Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root { --primary:#3C83F6; --bg:#F9FAFB; --text:#111827; --muted:#6B7280; --border:#E5E7EB; --shadow: 0 8px 24px rgba(0,0,0,.06); }
    body { background: var(--bg); color: var(--text); }
    .card-link { text-decoration: none; color: inherit; display:block; }
    .module-card { background:#fff; border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow); padding:20px; transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease; height:100%; }
    .module-card:hover, .module-card:focus-within { transform: translateY(-2px); box-shadow: 0 12px 28px rgba(0,0,0,.08); border-color: var(--primary); }
    .module-card .title { margin:0; font-size:1.1rem; }
    .module-card .desc { color: var(--muted); }
    .btn-primary { background-color: var(--primary); border-color: var(--primary); }
    .btn-primary:hover { filter: brightness(0.97); background-color: var(--primary); border-color: var(--primary); }
    .icon { font-size: 1.25rem; }
    .divider { height:1px; background: var(--border); margin: 10px 0 16px; }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h1 class="h4 m-0">Module Hub</h1>
      <button id="logoutBtn" class="btn btn-outline-secondary btn-sm">Logout</button>
    </div>

    <div id="grid" class="row g-3">
      <div class="col-12 col-sm-6 col-lg-4" data-group="Catalog">
        <a class="card-link" href="/app/catalog">
          <div class="module-card">
            <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üì¶</span><h2 class="title">Catalog</h2></div>
            <div class="divider"></div>
            <p class="desc mb-3">Manage brands, items, categories.</p>
            <button class="btn btn-primary btn-sm">Enter</button>
          </div>
        </a>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="Warehousing">
        <!-- Updated: separate buttons for Enter and Configuration -->
        <div class="module-card">
          <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üè¨</span><h2 class="title">Warehousing</h2></div>
          <div class="divider"></div>
          <p class="desc mb-3">Stock, transfers and locations.</p>
          <div class="d-flex gap-2">
            <a class="btn btn-primary btn-sm" href="/app/warehousing">Enter</a>
            <a class="btn btn-outline-primary btn-sm" href="/app/warehousing/config">Configuration</a>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="CvHub">
        <div class="module-card">
          <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üè¢</span><h2 class="title">Customer & Vendor Hub</h2></div>
          <div class="divider"></div>
          <p class="desc mb-3">Manage customers, suppliers and vendors.</p>
          <div class="d-flex gap-2">
            <a class="btn btn-primary btn-sm" href="/app/cv_hub/entries">Enter</a>
            <button class="btn btn-outline-primary btn-sm" onclick="openQuickCreateModal()">Add</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="HR">
        <div class="module-card">
          <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üë•</span><h2 class="title">HR & Employees</h2></div>
          <div class="divider"></div>
          <p class="desc mb-3">Manage employees, payroll and organization.</p>
          <div class="d-flex gap-2">
            <a class="btn btn-primary btn-sm" href="/app/hr">Dashboard</a>
            <a class="btn btn-outline-primary btn-sm" href="/app/hr/employees/new">Add Employee</a>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="Manufacturing">
        <a class="card-link" href="/app/manufacturing">
          <div class="module-card">
            <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üè≠</span><h2 class="title">Manufacturing</h2></div>
            <div class="divider"></div>
            <p class="desc mb-3">Plan and execute production.</p>
            <button class="btn btn-primary btn-sm">Enter</button>
          </div>
        </a>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="Sales">
        <a class="card-link" href="/app/sales">
          <div class="module-card">
            <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üßæ</span><h2 class="title">Sales</h2></div>
            <div class="divider"></div>
            <p class="desc mb-3">Quotes, orders and invoices.</p>
            <button class="btn btn-primary btn-sm">Enter</button>
          </div>
        </a>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="Finance">
        <a class="card-link" href="/app/finance">
          <div class="module-card">
            <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üí∞</span><h2 class="title">Finance</h2></div>
            <div class="divider"></div>
            <p class="desc mb-3">Accounts payable and receivable.</p>
            <button class="btn btn-primary btn-sm">Enter</button>
          </div>
        </a>
      </div>
      <div class="col-12 col-sm-6 col-lg-4" data-group="Admin">
        <a class="card-link" href="/admin/">
          <div class="module-card">
            <div class="d-flex align-items-center gap-2 mb-1"><span class="icon">üõ†Ô∏è</span><h2 class="title">Admin</h2></div>
            <div class="divider"></div>
            <p class="desc mb-3">System configuration and users.</p>
            <button class="btn btn-primary btn-sm">Enter</button>
          </div>
        </a>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('logoutBtn').addEventListener('click', function () {
      localStorage.removeItem('accessToken');
      localStorage.removeItem('refreshToken');
      window.location = '/';
    });
    
    function openQuickCreateModal() {
      // For now, redirect to the CV Hub entries page
      // In a full implementation, you'd open a modal here
      window.location.href = '/app/cv_hub/entries/new';
    }
  </script>
</body>
</html>
